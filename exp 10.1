BACKEND CODE
{
  "name": "backend",
  "version": "1.0.0",
  "main": "server.js",
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js"
  },
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "sqlite3": "^5.1.6"
  },
  "devDependencies": {
    "nodemon": "^2.0.22"
  }
}
const sqlite3 = require('sqlite3').verbose();
const path = require('path');

const dbFile = path.join(__dirname, 'data.sqlite');
const db = new sqlite3.Database(dbFile);

const init = () => {
  const sql = `
    CREATE TABLE IF NOT EXISTS notes (
      id INTEGER PRIMARY KEY AUTOINCREMENT,
      title TEXT NOT NULL,
      content TEXT,
      created_at DATETIME DEFAULT CURRENT_TIMESTAMP
    );
  `;
  db.run(sql);
};

module.exports = { db, init };
const express = require('express');
const cors = require('cors');
const { db, init } = require('./db');

const app = express();
const PORT = 4000;

app.use(cors());
app.use(express.json());
init();

// --- CRUD Routes ---

// Create
app.post('/api/notes', (req, res) => {
  const { title, content } = req.body;
  if (!title) return res.status(400).json({ error: 'Title required' });
  db.run('INSERT INTO notes (title, content) VALUES (?, ?)', [title, content || ''], function (err) {
    if (err) return res.status(500).json({ error: err.message });
    db.get('SELECT * FROM notes WHERE id = ?', [this.lastID], (err, row) => {
      if (err) return res.status(500).json({ error: err.mess
const express = require('express');
const cors = require('cors');
const { db, init } = require('./db');

const app = express();
const PORT = 4000;

app.use(cors());
app.use(express.json());
init();

// --- CRUD Routes ---

// Create
app.post('/api/notes', (req, res) => {
  const { title, content } = req.body;
  if (!title) return res.status(400).json({ error: 'Title required' });
  db.run('INSERT INTO notes (title, content) VALUES (?, ?)', [title, content || ''], function (err) {
    if (err) return res.status(500).json({ error: err.message });
    db.get('SELECT * FROM notes WHERE id = ?', [this.lastID], (err, row) => {
      if (err) return res.status(500).json({ error: err.message });
      res.status(201).json(row);
    });
  });
});

// Read all
app.get('/api/notes', (req, res) => {
  db.all('SELECT * FROM notes ORDER BY created_at DESC', [], (err, rows) => {
    if (err) return res.status(500).json({ error: err.message });
    res.json(rows);
  });
});

// Read one
app.get('/api/notes/:id', (req, res) => {
  db.get('SELECT * FROM notes WHERE id = ?', [req.params.id], (err, row) => {
    if (err) return res.status(500).json({ error: err.message });
    if (!row) return res.status(404).json({ error: 'Not found' });
    res.json(row);
  });
});

// Update
app.put('/api/notes/:id', (req, res) => {
  const { title, content } = req.body;
  if (!title) return res.status(400).json({ error: 'Title required' });
  db.run('UPDATE notes SET title = ?, content = ? WHERE id = ?', [title, content, req.params.id], function (err) {
    if (err) return res.status(500).json({ error: err.message });
    if (this.changes === 0) return res.status(404).json({ error: 'Not found' });
    db.get('SELECT * FROM notes WHERE id = ?', [req.params.id], (err, row) => {
      if (err) return res.status(500).json({ error: err.message });
      res.json(row);
    });
  });
});

// Delete
app.delete('/api/notes/:id', (req, res) => {
  db.run('DELETE FROM notes WHERE id = ?', [req.params.id], function (err) {
    if (err) return res.status(500).json({ error: err.message });
    if (this.changes === 0) return res.status(404).json({ error: 'Not found' });
    res.status(204).end();
  });
});

app.listen(PORT, () => console.log(`Server running on http://localhost:${PORT}`));

FRONTEND CODE

{
  "name": "frontend",
  "version": "1.0.0",
  "private": true,
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0"
  },
  "devDependencies": {
    "vite": "^5.0.0"
  }
}
<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fullstack CRUD</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
import React from 'react'
import { createRoot } from 'react-dom/client'
import App from './App'

createRoot(document.getElementById('root')).render(<App />)
import React, { useEffect, useState } from 'react'
import NoteForm from './components/NoteForm'
import NoteList from './components/NoteList'

const API = 'http://localhost:4000/api/notes'

export default function App() {
  const [notes, setNotes] = useState([])
  const [editing, setEditing] = useState(null)

  useEffect(() => {
    fetchNotes()
  }, [])

  async function fetchNotes() {
    const res = await fetch(API)
    setNotes(await res.json())
  }

  async function create(note) {
    const res = await fetch(API, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(note),
    })
    if (res.ok) {
      const newNote = await res.json()
      setNotes(prev => [newNote, ...prev])
    }
  }

  async function update(id, note) {
    const res = await fetch(`${API}/${id}`, {
      method: 'PUT',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(note),
    })
    if (res.ok) {
      const updated = await res.json()
      setNotes(prev => prev.map(n => (n.id === id ? updated : n)))
      setEditing(null)
    }
  }

  async function remove(id) {
    const res = await fetch(`${API}/${id}`, { method: 'DELETE' })
    if (res.status === 204) {
      setNotes(prev => prev.filter(n => n.id !== id))
    }
  }

  return (
    <div style={{ maxWidth: 800, margin: '2rem auto', fontFamily: 'Arial' }}>
      <h1>Notes CRUD App</h1>
      <NoteForm onCreate={create} onUpdate={update} editing={editing} />
      <hr />
      <NoteList notes={notes} onEdit={setEditing} onDelete={remove} />
    </div>
  )
}
import React, { useEffect, useState } from 'react'

export default function NoteForm({ onCreate, onUpdate, editing }) {
  const [title, setTitle] = useState('')
  const [content, setContent] = useState('')

  useEffect(() => {
    if (editing) {
      setTitle(editing.title)
      setContent(editing.content)
    } else {
      setTitle('')
      setContent('')
    }
  }, [editing])

  function handleSubmit(e) {
    e.preventDefault()
    if (!title.trim()) return alert('Title required')
    const data = { title, content }
    if (editing) onUpdate(editing.id, data)
    else onCreate(data)
  }

  return (
    <form onSubmit={handleSubmit}>
      <input
        style={{ width: '60%', padding: '8px' }}
        value={title}
        onChange={e => setTitle(e.target.value)}
        placeholder="Title"
      />
      <br />
      <textarea
        style={{ width: '60%', padding: '8px', marginTop: '8px' }}
        rows="4"
        value={content}
        onChange={e => setContent(e.target.value)}
        placeholder="Content"
      />
      <br />
      <button style={{ marginTop: '8px' }} type="submit">
        {editing ? 'Update' : 'Create'}
      </button>
    </form>
  )
}
import React from 'react'

export default function NoteList({ notes, onEdit, onDelete }) {
  if (!notes.length) return <p>No notes yet.</p>

  return (
    <div>
      {notes.map(note => (
        <div key={note.id} style={{ border: '1px solid #ccc', margin: '8px 0', padding: '8px' }}>
          <div style={{ display: 'flex', justifyContent: 'space-between' }}>
            <strong>{note.title}</strong>
            <div>
              <button onClick={() => onEdit(note)}>Edit</button>
              <button onClick={() => onDelete(note.id)} style={{ marginLeft: '8px' }}>
                Delete
              </button>
            </div>
          </div>
          <div style={{ marginTop: '8px' }}>{note.content}</div>
          <small style={{ color: '#777' }}>{note.created_at}</small>
        </div>
      ))}
    </div>
  )
}
